'use strict';
var moment = require('moment');

function Wait(amount, type, callback) {
    if(!(this instanceof Wait)) {
        return new Wait(amount, type, callback);
    }
    this.callback = callback;
    this.duration = moment.duration(amount, type).asMilliseconds();
    this.start();
}

Wait.prototype.start = function(callback) {
    if(callback) {
        this.callback = callback;
    }
    setTimeout(this.callback.bind(this), this.duration);
};

module.exports = Wait;